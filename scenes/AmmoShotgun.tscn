[gd_scene load_steps=5 format=3 uid="uid://cba0ny8vcuj7s"]

[ext_resource type="PackedScene" uid="uid://h3ynh3v6w87o" path="res://assets/boxofshells.glb" id="1_idll6"]
[ext_resource type="AudioStream" uid="uid://i5fbeo553c6q" path="res://audio/SFX/pickup_deep.wav" id="2_ysbe3"]

[sub_resource type="GDScript" id="GDScript_hm30m"]
resource_name = "PickupAmmoShotgun"
script/source = "extends \"res://scripts/Pickup.gd\"

func _on_pickup_area_body_entered(body):
	if body == player: 
		var weapon = player.Weapons.SHOTGUN
		$PickupSound.play()
		player.add_ammo(weapon, 8)
		hide()
"

[sub_resource type="SphereShape3D" id="SphereShape3D_m3xk4"]
radius = 1.0

[node name="AmmoShotgun" type="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.1, 0)
script = SubResource("GDScript_hm30m")

[node name="boxofshells" parent="." instance=ExtResource("1_idll6")]
transform = Transform3D(0.164112, 0, 0, 0, 0.164112, 0, 0, 0, 0.164112, -0.000197455, 0.000580333, -0.000647396)

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.170222, 0.181382, 0)
layers = 7
light_energy = 0.25
light_volumetric_fog_energy = 0.5
omni_range = 1.0

[node name="OmniLight3D2" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.153988, 0.181729, 0)
layers = 7
light_energy = 0.25
light_volumetric_fog_energy = 0.5
omni_range = 1.0

[node name="PickupArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="PickupArea"]
shape = SubResource("SphereShape3D_m3xk4")

[node name="PickupSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("2_ysbe3")
bus = &"SFX"

[connection signal="body_entered" from="PickupArea" to="." method="_on_pickup_area_body_entered"]
[connection signal="finished" from="PickupSound" to="." method="_on_pickup_sound_finished"]
